<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>hls player</title>
    <script src="./js/hls.js"></script>
</head>

<body>
    <div>
        <label for="stream-input">请输入m3u8视频流地址：</label>
        <input type="text" id="stream-input" value="http://xxx.xxx.xxx.xxx:8080/live/turtles.m3u8" />
        <button id="play-button">播放</button>
    </div>
    <div>
        <video id="video" width="640" height="360" autoplay></video>
    </div>
    <script>
        var video = document.getElementById("video");
        var streamInput = document.getElementById("stream-input");
        var playButton = document.getElementById("play-button");

        playButton.onclick = function() {
            if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(streamInput.value);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    video.play();
                });
            } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
                video.src = streamInput.value;
                video.addEventListener("loadedmetadata", function() {
                    video.play();
                });
            }
        };
    </script>
</body>

</html>